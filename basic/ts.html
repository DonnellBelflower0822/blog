<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Typescript | 答案的前端博客</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/blog/assets/css/0.styles.8cb9eb99.css" as="style"><link rel="preload" href="/blog/assets/js/app.cdd6d422.js" as="script"><link rel="preload" href="/blog/assets/js/2.f81d762c.js" as="script"><link rel="preload" href="/blog/assets/js/31.b137b839.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.f0b2174c.js"><link rel="prefetch" href="/blog/assets/js/11.31be7909.js"><link rel="prefetch" href="/blog/assets/js/12.b26fb97d.js"><link rel="prefetch" href="/blog/assets/js/13.c7712f93.js"><link rel="prefetch" href="/blog/assets/js/14.54fba8ff.js"><link rel="prefetch" href="/blog/assets/js/15.1a876b22.js"><link rel="prefetch" href="/blog/assets/js/16.8e76cf7a.js"><link rel="prefetch" href="/blog/assets/js/17.1856d985.js"><link rel="prefetch" href="/blog/assets/js/18.7924e289.js"><link rel="prefetch" href="/blog/assets/js/19.949e12c0.js"><link rel="prefetch" href="/blog/assets/js/20.7384514d.js"><link rel="prefetch" href="/blog/assets/js/21.4e4604e8.js"><link rel="prefetch" href="/blog/assets/js/22.612b2a5b.js"><link rel="prefetch" href="/blog/assets/js/23.c53bcdcb.js"><link rel="prefetch" href="/blog/assets/js/24.1a68b13f.js"><link rel="prefetch" href="/blog/assets/js/25.9fe4ad92.js"><link rel="prefetch" href="/blog/assets/js/26.9618cc8d.js"><link rel="prefetch" href="/blog/assets/js/27.04d7623e.js"><link rel="prefetch" href="/blog/assets/js/28.9b4dcb1f.js"><link rel="prefetch" href="/blog/assets/js/29.4cc5d136.js"><link rel="prefetch" href="/blog/assets/js/3.ac03b411.js"><link rel="prefetch" href="/blog/assets/js/30.04c0db4e.js"><link rel="prefetch" href="/blog/assets/js/32.101c45b9.js"><link rel="prefetch" href="/blog/assets/js/33.04eb4df3.js"><link rel="prefetch" href="/blog/assets/js/34.fad4f5eb.js"><link rel="prefetch" href="/blog/assets/js/35.81206f7d.js"><link rel="prefetch" href="/blog/assets/js/36.7cfd260f.js"><link rel="prefetch" href="/blog/assets/js/37.8c924751.js"><link rel="prefetch" href="/blog/assets/js/38.bb6a6321.js"><link rel="prefetch" href="/blog/assets/js/39.3dedb542.js"><link rel="prefetch" href="/blog/assets/js/4.6d01d86f.js"><link rel="prefetch" href="/blog/assets/js/40.13497882.js"><link rel="prefetch" href="/blog/assets/js/41.34849d78.js"><link rel="prefetch" href="/blog/assets/js/42.1f96df59.js"><link rel="prefetch" href="/blog/assets/js/43.ae2d96ce.js"><link rel="prefetch" href="/blog/assets/js/44.f18f5e1e.js"><link rel="prefetch" href="/blog/assets/js/45.c40f6d1a.js"><link rel="prefetch" href="/blog/assets/js/46.c4964d60.js"><link rel="prefetch" href="/blog/assets/js/47.29e79f7d.js"><link rel="prefetch" href="/blog/assets/js/48.893e94d7.js"><link rel="prefetch" href="/blog/assets/js/49.e5132b30.js"><link rel="prefetch" href="/blog/assets/js/5.f796fdc3.js"><link rel="prefetch" href="/blog/assets/js/50.2500883a.js"><link rel="prefetch" href="/blog/assets/js/51.d85d6898.js"><link rel="prefetch" href="/blog/assets/js/52.7d165847.js"><link rel="prefetch" href="/blog/assets/js/53.2bf60b59.js"><link rel="prefetch" href="/blog/assets/js/54.bfbc3879.js"><link rel="prefetch" href="/blog/assets/js/55.85f9ca55.js"><link rel="prefetch" href="/blog/assets/js/56.d17a255f.js"><link rel="prefetch" href="/blog/assets/js/57.562abdea.js"><link rel="prefetch" href="/blog/assets/js/58.e9efb0c6.js"><link rel="prefetch" href="/blog/assets/js/59.294c9d69.js"><link rel="prefetch" href="/blog/assets/js/6.f322345b.js"><link rel="prefetch" href="/blog/assets/js/60.52d9824a.js"><link rel="prefetch" href="/blog/assets/js/61.51728787.js"><link rel="prefetch" href="/blog/assets/js/62.57ad2e03.js"><link rel="prefetch" href="/blog/assets/js/63.6dcc816d.js"><link rel="prefetch" href="/blog/assets/js/64.e95da387.js"><link rel="prefetch" href="/blog/assets/js/65.d9620861.js"><link rel="prefetch" href="/blog/assets/js/66.97d1710b.js"><link rel="prefetch" href="/blog/assets/js/67.adc75bb3.js"><link rel="prefetch" href="/blog/assets/js/68.07349bd9.js"><link rel="prefetch" href="/blog/assets/js/7.555de9ef.js"><link rel="prefetch" href="/blog/assets/js/8.0d7f6e9a.js"><link rel="prefetch" href="/blog/assets/js/9.1ba6d461.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.8cb9eb99.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">答案的前端博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/basic/" class="nav-link router-link-active">
    基础篇
  </a></div><div class="nav-item"><a href="/blog/frame/" class="nav-link">
    框架篇
  </a></div><div class="nav-item"><a href="/blog/engine/" class="nav-link">
    工程化
  </a></div><div class="nav-item"><a href="/blog/browser/" class="nav-link">
    基础知识
  </a></div><div class="nav-item"><a href="/blog/resume.html" class="nav-link">
    简历
  </a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/basic/" class="nav-link router-link-active">
    基础篇
  </a></div><div class="nav-item"><a href="/blog/frame/" class="nav-link">
    框架篇
  </a></div><div class="nav-item"><a href="/blog/engine/" class="nav-link">
    工程化
  </a></div><div class="nav-item"><a href="/blog/browser/" class="nav-link">
    基础知识
  </a></div><div class="nav-item"><a href="/blog/resume.html" class="nav-link">
    简历
  </a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/basic/" aria-current="page" class="sidebar-link">数据类型</a></li><li><a href="/blog/basic/tranform.html" class="sidebar-link">类型转换</a></li><li><a href="/blog/basic/grammar.html" class="sidebar-link">语法篇</a></li><li><a href="/blog/basic/function.html" class="sidebar-link">函数式编程</a></li><li><a href="/blog/basic/async.html" class="sidebar-link">异步编程</a></li><li><a href="/blog/basic/array.html" class="sidebar-link">数组</a></li><li><a href="/blog/basic/object.html" class="sidebar-link">Object</a></li><li><a href="/blog/basic/context.html" class="sidebar-link">执行上下文</a></li><li><a href="/blog/basic/scope.html" class="sidebar-link">作用域和闭包</a></li><li><a href="/blog/basic/this.html" class="sidebar-link">this</a></li><li><a href="/blog/basic/prototype.html" class="sidebar-link">原型/原型链</a></li><li><a href="/blog/basic/write.html" class="sidebar-link">手写系列</a></li><li><a href="/blog/basic/cg.html" class="sidebar-link">内存管理</a></li><li><a href="/blog/basic/question.html" class="sidebar-link">题目</a></li><li><a href="/blog/basic/ts.html" aria-current="page" class="active sidebar-link">Typescript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#类型" class="sidebar-link">类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#any" class="sidebar-link">any</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#unknown" class="sidebar-link">Unknown</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#void" class="sidebar-link">Void</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#never" class="sidebar-link">never</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#type和interface" class="sidebar-link">type和interface</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#相同点" class="sidebar-link">相同点</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#不同" class="sidebar-link">不同</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#断言" class="sidebar-link">断言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#语法" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#as语法" class="sidebar-link">as语法</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#" class="sidebar-link">!</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#守卫" class="sidebar-link">守卫</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#in" class="sidebar-link">in</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#instanceof" class="sidebar-link">instanceof</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#联合" class="sidebar-link">联合</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#前置" class="sidebar-link">前置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#typeof-2" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#keyof" class="sidebar-link">keyof</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#in-2" class="sidebar-link">in</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#infer" class="sidebar-link">infer</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#extends" class="sidebar-link">extends</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#手撕泛型" class="sidebar-link">手撕泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#partial" class="sidebar-link">Partial</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#record" class="sidebar-link">Record</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#pick" class="sidebar-link">Pick</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#extract-提取" class="sidebar-link">Extract 提取</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#exclude-排除-不包括" class="sidebar-link">Exclude(排除/不包括)</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#returntype" class="sidebar-link">ReturnType</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#required" class="sidebar-link">Required</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#readonly" class="sidebar-link">Readonly</a></li><li class="sidebar-sub-header"><a href="/blog/basic/ts.html#omit" class="sidebar-link">Omit</a></li></ul></li></ul></li><li><a href="/blog/basic/css.html" class="sidebar-link">css</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript"><a href="#typescript" class="header-anchor">#</a> Typescript</h1> <h2 id="类型"><a href="#类型" class="header-anchor">#</a> 类型</h2> <h3 id="any"><a href="#any" class="header-anchor">#</a> any</h3> <ul><li>任何类型都可以被归为 any 类型</li> <li>TypeScript 允许我们对 any 类型的值执行任何操作，而无需事先执行任何形式的检查</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> str<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'hello any'</span>

str<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> str1<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> str
</code></pre></div><h3 id="unknown"><a href="#unknown" class="header-anchor">#</a> Unknown</h3> <ul><li>所有类型也都可以赋值给 unknown</li> <li>unknown 类型只能被赋值给 any 类型和 unknown 类型本身</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> un1<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">'heloo'</span>

<span class="token comment">// error Object is of type 'unknown'.ts(2571)</span>
<span class="token comment">// un1.say()</span>

<span class="token comment">// error Type 'unknown' is not assignable to type 'string'.ts(2322)</span>
<span class="token comment">// const un2: string = un1</span>

<span class="token keyword">const</span> un3<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> un1
<span class="token keyword">const</span> un4<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> un1
</code></pre></div><h3 id="void"><a href="#void" class="header-anchor">#</a> Void</h3> <ul><li>表示没有任何类型</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello void'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="never"><a href="#never" class="header-anchor">#</a> never</h3> <ul><li>那些永不存在的值的类型
<ul><li>总是会抛出异常</li> <li>根本就不会有返回值的函数表达式</li> <li>箭头函数表达式的返回值类型</li></ul></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">infiniteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="type和interface"><a href="#type和interface" class="header-anchor">#</a> type和interface</h2> <h3 id="相同点"><a href="#相同点" class="header-anchor">#</a> 相同点</h3> <h4 id="声明对象或函数"><a href="#声明对象或函数" class="header-anchor">#</a> 声明对象或函数</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Fn1</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Fn2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span>

<span class="token keyword">interface</span> <span class="token class-name">Obj1</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Obj2</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Extend1</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Extend2</span> <span class="token operator">=</span> Extend1 <span class="token operator">&amp;</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Extend3</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Extend4</span> <span class="token keyword">extends</span> <span class="token class-name">Extend3</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token comment">// type 扩展 interface</span>
<span class="token keyword">type</span> <span class="token class-name">Extend5</span> <span class="token operator">=</span> Extend1 <span class="token operator">&amp;</span> Extend3
<span class="token comment">// interface 扩展 type</span>
<span class="token keyword">interface</span> <span class="token class-name">Extend6</span> <span class="token keyword">extends</span> <span class="token class-name">Extend1</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

</code></pre></div><h3 id="不同"><a href="#不同" class="header-anchor">#</a> 不同</h3> <h4 id="只能用type声明-基本类型-联合类型-元祖类型-的别名"><a href="#只能用type声明-基本类型-联合类型-元祖类型-的别名" class="header-anchor">#</a> 只能用type声明 <code>基本类型, 联合类型, 元祖类型</code> 的别名</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 基本类型, 联合类型, 元祖类型</span>
<span class="token keyword">type</span> <span class="token class-name">Base</span> <span class="token operator">=</span> <span class="token builtin">number</span>
<span class="token keyword">type</span> <span class="token class-name">Union</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">Tu</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span>
</code></pre></div><h4 id="同名interface可合并-type不能存在同名"><a href="#同名interface可合并-type不能存在同名" class="header-anchor">#</a> 同名interface可合并, type不能存在同名</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="断言"><a href="#断言" class="header-anchor">#</a> 断言</h2> <h3 id="语法"><a href="#语法" class="header-anchor">#</a> &lt;&gt;语法</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> an1<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'hello'</span>
<span class="token keyword">const</span> num1<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>an1<span class="token punctuation">)</span><span class="token punctuation">.</span>length
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>
</code></pre></div><h3 id="as语法"><a href="#as语法" class="header-anchor">#</a> as语法</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> an2<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'hello'</span>
<span class="token keyword">const</span> num2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>an1 <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>
</code></pre></div><h3 id=""><a href="#" class="header-anchor">#</a> !</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> an3<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">|</span> <span class="token keyword">null</span>
<span class="token comment">// 忽略  undefined 和 null</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>an3<span class="token operator">!</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token comment">// 报错  undefined 和 null没有length属性</span>
<span class="token comment">// console.log(an3.length)</span>
</code></pre></div><h2 id="守卫"><a href="#守卫" class="header-anchor">#</a> 守卫</h2> <h3 id="in"><a href="#in" class="header-anchor">#</a> in</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Admin</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    isAdmin<span class="token operator">:</span> <span class="token builtin">boolean</span>
    loginTime<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Guest</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    limit<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">UnknownType</span> <span class="token operator">=</span> Admin <span class="token operator">|</span> Guest

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>type<span class="token operator">:</span> UnknownType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'isAdmin'</span> <span class="token keyword">in</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// type = Admin</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span>loginTime<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'limit'</span> <span class="token keyword">in</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// type = Guest</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span>time<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getUnit</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'px'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'expected string or number, got '</span> <span class="token operator">+</span> <span class="token keyword">typeof</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">getUnit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">getUnit</span><span class="token punctuation">(</span><span class="token string">'10px'</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Class1</span> <span class="token punctuation">{</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Class2</span> <span class="token punctuation">{</span>
    <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doSomeThing1</span><span class="token punctuation">(</span>instance<span class="token operator">:</span> Class1 <span class="token operator">|</span> Class2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Class1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        instance<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Class2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        instance<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'expected Class1 or Class2, got unknown'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Class1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">doSomeThing1</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>
</code></pre></div><h2 id="联合"><a href="#联合" class="header-anchor">#</a> 联合</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token punctuation">{</span> d<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">E</span></span> <span class="token punctuation">{</span> e<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F</span></span> <span class="token punctuation">{</span> f<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token constant">D</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token constant">E</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token constant">F</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">ABC</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span> <span class="token operator">&amp;</span> <span class="token constant">C</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> abc<span class="token operator">:</span> <span class="token constant">ABC</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token punctuation">{</span>
    d<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    e<span class="token operator">:</span> <span class="token string">'semlinker'</span><span class="token punctuation">,</span>
    f<span class="token operator">:</span> <span class="token number">666</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'abc:'</span><span class="token punctuation">,</span> abc<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="前置"><a href="#前置" class="header-anchor">#</a> 前置</h2> <h3 id="typeof-2"><a href="#typeof-2" class="header-anchor">#</a> typeof</h3> <ul><li>获取一个变量声明或对象的类型。</li> <li><code>typeof 属性/函数/实例 = 类型</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/**
 * typeof
 */</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> allen<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'allen'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> allen

<span class="token keyword">const</span> t1<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'tim'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">14</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span>man<span class="token operator">:</span> <span class="token keyword">typeof</span> allen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> man<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>

<span class="token comment">// type T2 = (man: typeof allen) =&gt; string</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T2</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> fn1
</code></pre></div><h3 id="keyof"><a href="#keyof" class="header-anchor">#</a> keyof</h3> <ul><li>获取某种类型的所有键，其返回类型是联合类型。</li> <li>keyof 类型 = key的联合类型</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person1</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// name | age</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K1</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> Person1
<span class="token keyword">const</span> k1<span class="token operator">:</span> <span class="token constant">K1</span> <span class="token operator">=</span> <span class="token string">'name'</span>

<span class="token comment">// string | number</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K2</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> Person1 <span class="token punctuation">}</span>

</code></pre></div><h3 id="in-2"><a href="#in-2" class="header-anchor">#</a> in</h3> <ul><li>遍历枚举类型：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K3</span></span> <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span>
<span class="token comment">// { a: string, b: string, c: string}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K4</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>x <span class="token keyword">in</span> <span class="token constant">K3</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> k4<span class="token operator">:</span> <span class="token constant">K4</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    c<span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="infer"><a href="#infer" class="header-anchor">#</a> infer</h3> <h3 id="extends"><a href="#extends" class="header-anchor">#</a> extends</h3> <ul><li>有时候我们定义的泛型不想过于灵活或者说想继承某些类等，可以通过 extends 关键字添加泛型约束。</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">In16</span> <span class="token punctuation">{</span>
    length<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">fn</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> In16<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arg
<span class="token punctuation">}</span>
<span class="token comment">// Argument of type 'number' is not assignable to parameter of type 'In16'</span>
<span class="token comment">// fn(1)</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="手撕泛型"><a href="#手撕泛型" class="header-anchor">#</a> 手撕泛型</h2> <h3 id="partial"><a href="#partial" class="header-anchor">#</a> Partial</h3> <blockquote><p>把属性都改成非必填</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span><span class="token constant">T0</span><span class="token operator">&gt;</span>

<span class="token comment">// 真正转换后</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="record"><a href="#record" class="header-anchor">#</a> Record</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Man</span> <span class="token operator">=</span> <span class="token string">'allen'</span> <span class="token operator">|</span> <span class="token string">'tim'</span>
<span class="token keyword">type</span> <span class="token class-name">Info</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Mans</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span>Man<span class="token punctuation">,</span> Info<span class="token operator">&gt;</span>

<span class="token keyword">type</span> <span class="token class-name">Mans</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  allen<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  tim<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> mans<span class="token operator">:</span> Mans <span class="token operator">=</span> <span class="token punctuation">{</span>
    allen<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'allen'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    tim<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyRecord<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">V</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="pick"><a href="#pick" class="header-anchor">#</a> Pick</h3> <blockquote><p>提取</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T0</span><span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> t1<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'tim'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyPick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="extract-提取"><a href="#extract-提取" class="header-anchor">#</a> Extract 提取</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">// a:1</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">NewPerson</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T2</span></span> <span class="token operator">=</span>  Extract<span class="token operator">&lt;</span>NewPerson<span class="token punctuation">,</span> Person<span class="token operator">&gt;</span> 

<span class="token comment">//  NewPerson如果extends继承Person(继承了Person的属性)，就返回NewPerson，否则就never异常</span>
<span class="token keyword">const</span> obj1<span class="token operator">:</span> <span class="token constant">T2</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyExtract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span><span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre></div><h3 id="exclude-排除-不包括"><a href="#exclude-排除-不包括" class="header-anchor">#</a> Exclude(排除/不包括)</h3> <blockquote><p>返回联合类型</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    top<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// sex top</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T0</span><span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> t1<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token string">'sex'</span>
<span class="token keyword">const</span> t2<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token string">'top'</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyExclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre></div><h3 id="returntype"><a href="#returntype" class="header-anchor">#</a> ReturnType</h3> <ul><li><code>ReturnType&lt;T&gt;</code> 的作用是用于获取函数 T 的返回类型。</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyReturnType<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre></div><h3 id="required"><a href="#required" class="header-anchor">#</a> Required</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Required<span class="token operator">&lt;</span><span class="token constant">T0</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> t1<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'allen'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyRequired<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="readonly"><a href="#readonly" class="header-anchor">#</a> Readonly</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token constant">T0</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> t1<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'allen'</span>
<span class="token punctuation">}</span>

<span class="token comment">// Cannot assign to 'name' because it is a read-only property.(2540)</span>
t1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jack'</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="omit"><a href="#omit" class="header-anchor">#</a> Omit</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// type T1 = {</span>
<span class="token comment">//     sex: string;</span>
<span class="token comment">// }</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span><span class="token constant">T0</span><span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> t1<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token punctuation">{</span> sex<span class="token operator">:</span> <span class="token string">'man'</span> <span class="token punctuation">}</span>
</code></pre></div><p><strong>实现</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MyOmit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">MyOmit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;&gt;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/basic/question.html" class="prev">
          题目
        </a></span> <span class="next"><a href="/blog/basic/css.html">
          css
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.cdd6d422.js" defer></script><script src="/blog/assets/js/2.f81d762c.js" defer></script><script src="/blog/assets/js/31.b137b839.js" defer></script>
  </body>
</html>
