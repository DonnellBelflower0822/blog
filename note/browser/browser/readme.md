# 浏览器

## 进程与线程
- 进程是操作系统资源分配的基本单位,进程包含线程
- 线程是有进程所管理的,为了提高浏览器的稳定性和安全性,浏览器采用多进程的模型

## 浏览器多进程
- 浏览器进程
  - 负责页面显示,用户交互,子进程管理,提供存储
- 渲染进程
  - 每个页卡都有单独的渲染进程,用于渲染页面
- 网络进程
  - 处理网络资源加载(html,css,js)
- 插件进程
  - chrome安装的插件
- GPU进程
  - 3d绘制,提高性能

## 用户输入url
- 用户输入url地址
- 浏览器进程会准备一个渲染进程用于渲染页面
- 网络进程加载资源,最终将加载的资源交给渲染进程来处理
- 渲染完毕显示
- 网络七层模型
  - 物理层
  - 网络层(IP)
  - 传输层
    - TCP: 安全可靠,分包传输
    - UDP: 丢包
  - 应用层(HTTP)
- 先去查找缓存, 检测缓存是否过期, 直接返回缓存中内容
- 看域名是否被解析
  - DNS协议 将域名解析成IP地址(DNS基于UDP)
- 请求HTTPS ssl协商
- ip地址寻址, 排队等待
  - 一个域名最多能发6个http请求
- tcp创建连接, 用于传输
- 利用tcp传输数据(拆分数据包, 有序, 可靠)
- http请求(请求行,请求头,空行,请求体)
- 默认不会断开, keep-alive为了下次传输数据时,可以复用上次创建的链接
- 服务器收到数据后响应(响应行 响应头 空行 响应体)
- 服务器返回301,302会进行重定向操作
- 服务器304, 去查询浏览器缓存进行返回


## http
- http1.0
  - 提供http的header,根据header的不同处理不同资源
- http1.1
  - 默认开启keep-alive, tcp链接复用
- http2.0
  - 用同一个tcp链接来发送数据,一个域名一个tcp
  - 服务其可以推送数据给客户端
- http3.0
  - 解决tcp的对头阻塞问题

## 浏览器渲染






