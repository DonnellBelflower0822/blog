<!DOCTYPE html>
<html lang="en-zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向对象 | 学习笔记</title>
    <meta name="description" content="我要好好">
    
    
    <link rel="preload" href="/inventory/dist/assets/css/0.styles.1f692f57.css" as="style"><link rel="preload" href="/inventory/dist/assets/js/app.c0750fab.js" as="script"><link rel="preload" href="/inventory/dist/assets/js/19.c2f78980.js" as="script"><link rel="prefetch" href="/inventory/dist/assets/js/6.e89ce3dd.js"><link rel="prefetch" href="/inventory/dist/assets/js/2.4d942548.js"><link rel="prefetch" href="/inventory/dist/assets/js/3.35fbc508.js"><link rel="prefetch" href="/inventory/dist/assets/js/4.6bde540b.js"><link rel="prefetch" href="/inventory/dist/assets/js/5.cae7823b.js"><link rel="prefetch" href="/inventory/dist/assets/js/7.95de19e5.js"><link rel="prefetch" href="/inventory/dist/assets/js/8.5da826ae.js"><link rel="prefetch" href="/inventory/dist/assets/js/9.1610b143.js"><link rel="prefetch" href="/inventory/dist/assets/js/10.a73c564b.js"><link rel="prefetch" href="/inventory/dist/assets/js/11.87eeaee2.js"><link rel="prefetch" href="/inventory/dist/assets/js/12.b8589a29.js"><link rel="prefetch" href="/inventory/dist/assets/js/13.7a908974.js"><link rel="prefetch" href="/inventory/dist/assets/js/14.fea9d302.js"><link rel="prefetch" href="/inventory/dist/assets/js/15.279524a4.js"><link rel="prefetch" href="/inventory/dist/assets/js/16.23a4771c.js"><link rel="prefetch" href="/inventory/dist/assets/js/17.6cb70f6d.js"><link rel="prefetch" href="/inventory/dist/assets/js/18.5700d9e2.js"><link rel="prefetch" href="/inventory/dist/assets/js/20.51dd812a.js">
    <link rel="stylesheet" href="/inventory/dist/assets/css/0.styles.1f692f57.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/inventory/dist/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/inventory/dist/doc/" class="nav-link">指南</a></div><div class="nav-item"><a href="/inventory/dist/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/inventory/dist/concat/" class="nav-link">联系我</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/inventory/dist/doc/" class="nav-link">指南</a></div><div class="nav-item"><a href="/inventory/dist/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/inventory/dist/concat/" class="nav-link">联系我</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>笔记</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/inventory/dist/note/base.html" class="sidebar-link">基础</a></li><li><a href="/inventory/dist/note/oop.html" class="active sidebar-link">面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#执行环境" class="sidebar-link">执行环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#执行环境的列表" class="sidebar-link">执行环境的列表</a></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#作用域链" class="sidebar-link">作用域链</a></li></ul></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#手动清除内存" class="sidebar-link">手动清除内存</a></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#object" class="sidebar-link">object</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#创建对象" class="sidebar-link">创建对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#new原理" class="sidebar-link">new原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#步骤" class="sidebar-link">步骤</a></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#模拟new" class="sidebar-link">模拟new</a></li></ul></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#函数" class="sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#arguments" class="sidebar-link">arguments</a></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#bind-call-apply" class="sidebar-link">bind,call,apply</a></li></ul></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/inventory/dist/note/oop.html#this" class="sidebar-link">this</a></li></ul></li><li><a href="/inventory/dist/note/dom.html" class="sidebar-link">DOM</a></li><li><a href="/inventory/dist/note/bom.html" class="sidebar-link">BOM</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="面向对象"><a href="#面向对象" aria-hidden="true" class="header-anchor">#</a> 面向对象</h1> <h2 id="执行环境"><a href="#执行环境" aria-hidden="true" class="header-anchor">#</a> 执行环境</h2> <blockquote><p>执行环境定义了变量或函数有权访问的其他数据，决定了它们各自的行为。</p></blockquote> <h3 id="执行环境的列表"><a href="#执行环境的列表" aria-hidden="true" class="header-anchor">#</a> 执行环境的列表</h3> <ul><li>全局作用域</li> <li>局部作用域(函数)</li></ul> <h3 id="作用域链"><a href="#作用域链" aria-hidden="true" class="header-anchor">#</a> 作用域链</h3> <blockquote><p>标识符解析是沿着作用域链一级一级地搜索标识符的过程。搜索过程始终从作用域链的前端开始， 然后逐级地向后回溯，直至找到标识符为止</p></blockquote> <h2 id="手动清除内存"><a href="#手动清除内存" aria-hidden="true" class="header-anchor">#</a> 手动清除内存</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">20</span>
a<span class="token operator">=</span><span class="token keyword">null</span>
</code></pre></div><h2 id="object"><a href="#object" aria-hidden="true" class="header-anchor">#</a> object</h2> <blockquote><p>一组数据和功能的集合</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>var obj = new Object({
    name: 'allen'
})
Object.prototype.age = 20
// 构造函数
console.log(obj.constructor)  // Object
// 用于检查给定的属性在当前对象实例中(而不是在实例的原型中)是否存在
console.log(obj.hasOwnProperty('name'))
console.log(obj.hasOwnProperty('age'))
console.log(obj.toString())
console.log(obj.valueOf())
</code></pre></div><h3 id="创建对象"><a href="#创建对象" aria-hidden="true" class="header-anchor">#</a> 创建对象</h3> <h4 id="字面量"><a href="#字面量" aria-hidden="true" class="header-anchor">#</a> 字面量</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
person<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'allen'</span>
<span class="token keyword">var</span> ming <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'tom'</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="工厂模式"><a href="#工厂模式" aria-hidden="true" class="header-anchor">#</a> 工厂模式</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">factroy</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    o<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">return</span> o
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token function">factroy</span><span class="token punctuation">(</span><span class="token string">'allen'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token function">factroy</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="构造函数"><a href="#构造函数" aria-hidden="true" class="header-anchor">#</a> 构造函数</h4> <ul><li>任何函数，只要通过 new 操作符来调用，那它就可以作为构造函数</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'allen'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="原型模式"><a href="#原型模式" aria-hidden="true" class="header-anchor">#</a> 原型模式</h4> <ul><li>每个函数都有一个 prototype(原型)属性</li> <li>让所有对象实例共享它所包含的属性和方法</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>hobby <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hobby<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> yao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'yao'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'ming'</span><span class="token punctuation">)</span>
yao<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
ming<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// [1,2]</span>
</code></pre></div><h2 id="new原理"><a href="#new原理" aria-hidden="true" class="header-anchor">#</a> new原理</h2> <h3 id="步骤"><a href="#步骤" aria-hidden="true" class="header-anchor">#</a> 步骤</h3> <ul><li>创建一个新对象</li> <li>将这个对象的__proto__ 指向构造函数的实例原型</li> <li>将构造函数的this指向这个新对象</li> <li>执行构造函数中的代码</li> <li>返回新对象</li></ul> <h3 id="模拟new"><a href="#模拟new" aria-hidden="true" class="header-anchor">#</a> 模拟new</h3> <div class="language- extra-class"><pre class="language-text"><code>function _new (fn) {
    let args = Array.from(arguments)
    let context = args.shift() || window
    let obj = {}
    obj.__proto__ = fn.prototype
    let res = context.apply(obj, args)
    if (res instanceof Object &amp;&amp; res !== null) {
      return res
    } else {
      return obj
    }
}

let fn = function (name) {
    this.name = name
}
fn.prototype.say = function () {
    console.log('我是' + this.name)
}
let person = _new(fn, 'allen')
console.log(person.name)
person.say()
</code></pre></div><h2 id="函数"><a href="#函数" aria-hidden="true" class="header-anchor">#</a> 函数</h2> <h3 id="arguments"><a href="#arguments" aria-hidden="true" class="header-anchor">#</a> arguments</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>  <span class="token comment">// Arguments</span>
    <span class="token comment">// 将类数组转换成数组</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Array</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="bind-call-apply"><a href="#bind-call-apply" aria-hidden="true" class="header-anchor">#</a> bind,call,apply</h3> <blockquote><p>改变函数的执行上下文</p></blockquote> <h2 id="继承"><a href="#继承" aria-hidden="true" class="header-anchor">#</a> 继承</h2> <h2 id="闭包"><a href="#闭包" aria-hidden="true" class="header-anchor">#</a> 闭包</h2> <ul><li>有权访问另一个 函数作用域中的变量的函数</li> <li>创建闭包的常见方式，就是在一个函数内部创建另一个函数</li></ul> <h2 id="this"><a href="#this" aria-hidden="true" class="header-anchor">#</a> this</h2> <blockquote><p>代码执行时才能确定this指向</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'one'</span>
<span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span><span class="token string">'two'</span>
<span class="token punctuation">}</span>


</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">9/2/2018, 10:53:42 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/inventory/dist/note/base.html" class="prev">
          基础
        </a></span> <span class="next"><a href="/inventory/dist/note/dom.html">
          DOM
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/inventory/dist/assets/js/19.c2f78980.js" defer></script><script src="/inventory/dist/assets/js/app.c0750fab.js" defer></script>
  </body>
</html>
