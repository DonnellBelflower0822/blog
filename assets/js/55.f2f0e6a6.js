(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{342:function(a,r,l){"use strict";l.r(r);var n=l(13),t=Object(n.a)({},(function(){var a=this,r=a._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"monorepo"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#monorepo"}},[a._v("#")]),a._v(" monorepo")]),a._v(" "),r("ul",[r("li",[a._v("管理项目代码的一种方式\n"),r("ul",[r("li",[a._v("一个仓库管理多个模块包")])])]),a._v(" "),r("li",[a._v("好处\n"),r("ul",[r("li",[a._v("统一的工作流")]),a._v(" "),r("li",[a._v("模块包代码共享")])])]),a._v(" "),r("li",[a._v("lerna一个管理多个npm模块的工具")])]),a._v(" "),r("h2",{attrs:{id:"multirepo-monorepo"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#multirepo-monorepo"}},[a._v("#")]),a._v(" multirepo/monorepo")]),a._v(" "),r("h3",{attrs:{id:"multirepo"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#multirepo"}},[a._v("#")]),a._v(" multirepo")]),a._v(" "),r("ul",[r("li",[a._v("好处\n"),r("ul",[r("li",[a._v("各个模块管理自由度高\n"),r("ul",[r("li",[a._v("可以自行选择构建工具")]),a._v(" "),r("li",[a._v("依赖管理")]),a._v(" "),r("li",[a._v("单元测试")])])]),a._v(" "),r("li",[a._v("体积不会很大")])])]),a._v(" "),r("li",[a._v("坏处\n"),r("ul",[r("li",[a._v("仓库分散,分支管理混乱")]),a._v(" "),r("li",[a._v("版本更新繁琐\n"),r("ul",[r("li",[a._v("公共模块发生变化,要对所有的模块进行依赖更新")])])]),a._v(" "),r("li",[a._v("changelog不好梳理,无法自动关联各个模块的变动")])])])]),a._v(" "),r("h3",{attrs:{id:"monorepo-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#monorepo-2"}},[a._v("#")]),a._v(" monorepo")]),a._v(" "),r("ul",[r("li",[a._v("好处\n"),r("ul",[r("li",[a._v("一个仓库管理多个模块,方便好找")]),a._v(" "),r("li",[a._v("方便版本管理和依赖管理,模块之间引用调试比较方便")]),a._v(" "),r("li",[a._v("方便统一生成CHNAGELOG")])])]),a._v(" "),r("li",[a._v("缺点\n"),r("ul",[r("li",[a._v("统一构建工具")]),a._v(" "),r("li",[a._v("仓库体积变大")])])])]),a._v(" "),r("h2",{attrs:{id:"使用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("# 初始化\nlerna init\n# 配置package.json的workspaces\n# 创建模块包\nlerna create react\n# 查看工作空间的信息\nyarn workspaces info\n# 按照和生成软链\nyarn install\n# 添加全局依赖\nyarn add lodash --ignore-workspace-root-check\nyarn add lodash -W\n# 添加某个工作空间的依赖\nyarn workspace react add dayjs\n")])])])])}),[],!1,null,null,null);r.default=t.exports}}]);